---
layout: pagewide
title: "Likelihood Ratio Vesselness (LRR)"
subheadline: ""
show_meta: false
articlename: "LRV executable"
teaser: ""
noheading: "true"
permalink: "/projects/vessels_exec/"
image:
    title: "/LRV_banner.jpg"
---

      <h5 class="navigatorButtons"><a href="/projects/">Projects</a> / <a href="/downloads/">Downloads</a> / {{ page.articlename }} </h5>
   <TABLE class="container-fluid" style="border:0;background-color:transparent;">
     <TR>
       <TD style="padding: 10 10 10 10; vertical-align: top">
         <p class=cap>Download Command-Line Executable of the Likelihood Ratio Vesselness</p>
         <p class=text>This executable will run <a href="/projects/vessels/">Likelihood Ratio Vesselness (LRV)</a> tracing to extract vessel
         centerlines. It will also extract landmarks (vessel branching and cross over points) which are repeatable features
         that could be used for registration or tracking.
<!--         It is faster than the <a href="vessels_classify.html">vessel detection executable</a>
         which applies the LRV pixel-by-pixel.
-->         
         <p class=text><font color=red>08/11/2007: Updated downloads include landmark extraction (vessel branching and crossover points)</a>.</font>

         <table>
         <tr>
         <th class=text style="BACKGROUND-COLOR: rgb(166,166,166); text-align: center;">Platform</th>
         <th class=text style="BACKGROUND-COLOR: rgb(166,166,166); text-align: center;" colspan=3>Training Data Used</th>
         </tr>
         <tr class=text>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5;">Windows (08/11/2007)</td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?windows_STARE_DRIVE">STARE and DRIVE*</a></td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?windows_STARE">STARE</a></td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?windows_DRIVE">DRIVE</a></td>
         </tr>
         <tr class=text>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5;">FreeBSD (08/11/2007 static build on FreeBSD 6.2)</td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?freebsd_STARE_DRIVE">STARE and DRIVE*</a></td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?freebsd_STARE">STARE</a></td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?freebsd_DRIVE">DRIVE</a></td>
         </tr>
         <tr class=text>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5;">Linux (08/11/2007 static build on kernel 2.6)</td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?suse_STARE_DRIVE">STARE and DRIVE*</a></td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?suse_STARE">STARE</a></td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?suse_DRIVE">DRIVE</a></td>
         </tr>
         <tr class=text>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5;">Mac OS X 10.3.9 (7/15/2008)</td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?mac_STARE_DRIVE">STARE and DRIVE*</a></td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?mac_STARE">STARE</a></td>
           <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?mac_DRIVE">DRIVE</a></td>
         </tr>
         <tr class=text>
           <td colspan=4>
           * Training using STARE data set and DRIVE data set (with manual segmentations by observer 1).
           <font color=red>Use this version for best results.</font>
           <br>
           <i>Unzipping Note: The MS Windows XP ``Compressed (zipped) folders'' might not be compatible
           with other zip archives. The files were zipped with Winzip 12.0 and it was possible to
                     unzip them with ``Compressed (zipped) folders''. Please let me know if you have any problems.</i>
                   <br>
                   <i>Update 8/23/2009: There seem to have been an occasional problem with the downloads. This has been fixed.</i>
           </td>
         </table>

         
         <p class=text><b>Run</b></p>
         <p class=text>After running the vessel tracer without any arguments (or with ``-?'' argument),
         usage information is printed as follows: 

         <font face="courier new">        

         <br>
         <br>
         Usage: vessel_tracer.exe [ string] [ string] [ float] [-s string] [-d string]

         <br>
         <br>
         REQUIRED:
         <br>
         <table style="FONT-FAMILY: courier new; FONT-SIZE: 10pt;">
         <tr>
           <td></td>
           <td style="padding: 0 0 0 10">string</td>
           <td style="padding: 0 0 0 10">Image file to process  ['']</td>
         </tr>
         <tr>
           <td></td>
           <td style="padding: 0 0 0 10">string</td>
           <td style="padding: 0 0 0 10">Tracer [parallel] edge, [matched]  ['']</td>
         </tr>
         <tr>
           <td></td>
           <td style="padding: 0 0 0 10">float</td>
           <td style="padding: 0 0 0 10">Sensitivity of the tracer  [0]</td>
         </tr>
         <tr>
           <td colspan=3>&nbsp;</td>
         </tr>

         <tr>
           <td colspan=3>Optional:</td>
         </tr>

         <tr>
           <td style="text-align: right">Switch</td>
           <td style="padding: 0 0 0 10">Type</td>
           <td style="padding: 0 0 0 10">Help [default value]</td>
         </tr>
         <tr>
           <td style="text-align: right">-s</td>
           <td style="padding: 0 0 0 10">string</td>
           <td style="padding: 0 0 0 10">Suffix for the trace result  ['']</td>
         </tr>
         <tr>
           <td style="text-align: right">-d</td>
           <td style="padding: 0 0 0 10">string</td>
           <td style="padding: 0 0 0 10">Directory where to save result images  ['']</td>
         </tr>
         <tr>
           <td style="text-align: right">-?</td>
           <td style="padding: 0 0 0 10">bool</td>
           <td style="padding: 0 0 0 10">Print this message</td>
         </tr>
         </table>

         </font>
         
         <br>
         
         <p class=text>Notes</p>
         <UL>
         <LI> The first mandatory argument specifies retinal image file in JPEG, PNG, BMP, or TIFF format.
         </LI>
         <LI> The second mandatory argument specifies method to use for tracing. Two methods are available:
              Parallel edge tracing as proposed in [<A
              HREF="vessels.html#can:itbm99">Can, ITBM 1999</A>] and LRV based tracing as proposed in
              [<A HREF="vessels.html#sofka:tmi-accepted">Sofka, TMI 2006</A>]. Enter string ``parallel'' or ``matched''
              (without the quotes).
         </LI>
         <LI> Sensitivity of the tracer specifies how aggressive the tracing is. For LRV. this is 
              a threshold on the likelihood ratio and 1.0 - 2.0 is a good value.
              For parallel edge tracing the parameter specifies image
              contrast sensitivity level in a local window and value 2.5 - 3.5 gives best results.
         </LI>
         <LI> Option -s specifies a suffix added to the image image to write image
              with vessel traces overlayed on the top, image of binary traces, and a text file with trace results.
         </LI>
         <LI>
              Option -d specifies where to save the results (default is the current directory).
         </LI>
         </UL>
         <p class=text>This executable can be used for non-commercial purposes only.
         
         <p class=text><b>Results</b></p>
         <p class=text>Results include vessel centerlines and landmarks (vessel branching and crossover points).
         Three files are written for each run: 1) Vessel traces and landmarks overlayed on the original image,
         2) Binary image of vessel traces, and 3) Test file with vessel tracing and landmark extraction results in the following format
         (comments on the right):
         <br>
         <br>
         
         <table style="FONT-FAMILY: courier new; FONT-SIZE: 10pt;">
         <tr>
         <td>trace_points = {</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// beginning of the first trace</td>
         </tr>
         <tr>
         <td>vec_num = N</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// number of trace pts. in the first trace</td>
         </tr>
         <tr>
         <td>vec_element_0 = {</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// beginning of first trace pt.</td>
         </tr>
         <tr>
         <td style="text-align: right">prrepl_trace_point: location = <td>x0 y0</td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// location of the trace pt.</td>
         </tr>
         <tr>
         <td style="text-align: right">                   direction = <td>n0 m0</td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// vessel orientation vector at the trace pt.</td>
         </tr>
         <tr>
         <td style="text-align: right">                       width = <td>w0</td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// vessel width at the trace pt. (scale for LRV)</td>
         </tr>
         <tr>
         <td style="text-align: right">                    strength = <td>s0</td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// vesselness strength of the trace pt.</td>
         </tr>
         <tr>
         <td>}</td> <td> </td> <td> </td>
         </tr>
         <tr>
         <td>...</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// continue output all N trace pt. of the first trace</td>
         </tr>
         <tr>
         <td>vec_element_N-1 = {</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// beginning of the last trace pt. of the first trace</td>
         </tr>
         <tr>
         <td style="text-align: right">prrepl_trace_point: location = <td>x1 y1</td> <td> </td>
         </tr>
         <tr>
         <td style="text-align: right">                   direction = <td>n1 m1</td> <td> </td>
         </tr>
         <tr>
         <td style="text-align: right">                       width = <td>w1</td> <td> </td>
         </tr>
         <tr>
         <td style="text-align: right">                    strength = <td>s1</td> <td> </td>
         </tr>
         <tr>
         <td>}</td> <td> </td> <td> </td>
         </tr>
         <tr>
         <td>}</td> <td> </td> <td> </td>
         </tr>
         <tr>
         <td>&nbsp;</td> <td> </td> <td> </td>
         </tr>
         <tr>
         <td>trace_points = {</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// output next trace</td>
         </tr>
         <tr>
         <td>...</td> <td> </td> <td> </td>
         </tr>
         <tr>
         <td>}</td> <td> </td> <td> </td>
         </tr>
         <tr>
         <td>&nbsp;</td> <td> </td> <td> </td>
         </tr>                
         <td>landmarks = {</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// beginning of the landmark listing</td>
         </tr>
         <tr>
         <td>vec_num = M</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// number of landmarks</td>
         </tr>
         <tr>
         <td>vec_element_0 = {</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// beginning of first landmark</td>
         </tr>
         <tr>
         <td style="text-align: right">prrepl_landmark: group id = <td>-1</td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// internal use, ignore this field</td>
         </tr>
         <tr>
         <td style="text-align: right">                   radius = <td>r0</td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// landmark radius (median width of its vessels)</td>
         </tr>
         <tr>
         <td style="text-align: right">                 location = <td>x0 y0</td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// location of the landmark</td>
         </tr>
         <tr>
         <td>}</td> <td> </td> <td> </td>
         </tr>
         <tr>
         <td>...</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// continue output all M landmarks</td>
         </tr>
         <tr>
         <td>vec_element_N-1 = {</td> <td> </td> <td class=text style="padding: 0 0 0 10; FONT-STYLE: italic;" width=50%>// beginning of the last landmark</td>
         </tr>
         <tr>
         <td style="text-align: right">prrepl_landmark: group id = <td>-1</td> <td> </td>
         </tr>
         <tr>
         <td style="text-align: right">                   radius = <td>r1</td> <td> </td>
         </tr>
         <tr>
         <td style="text-align: right">                 location = <td>x1 y1</td> <td> </td>
         </tr>
         <tr>
         <td>}</td> <td> </td> <td> </td>
         </tr>
         <tr>
         <td>}</td> <td> </td> <td> </td>
         </tr>
         <tr>
         <td>&nbsp;</td> <td> </td> <td> </td>
         </tr>       
         </table>
         
         <p class=text><b><A NAME="bibliography">Publications and Further Reading</A></b></p>
         <p class=text>
         When you publish results using the executable, please acknowledge the authors by citing the following paper:</p>

         <TABLE>
         <TR>
           <TD style="padding: 0 0 15 0; vertical-align: top">
           <p class=text><A NAME="sofka:tmi06">
           Retinal Vessel Centerline Extraction Using Multiscale Matched Filters, Confidence and Edge Measures<BR>
           Michal Sofka and Charles V. Stewart<BR>
           <I>IEEE Transactions on Medical Imaging, vol. 25, no. 12, pp. 1531-1546, Dec. 2006.</I>           
           <BR>
           <A HREF="pdfs/sofka-tmi06.pdf">[pdf with erratum]</A>    
           <A HREF="pdfs/sofka-tmi06.bib">[bibtex]</A>
           </p>
           </TD>
         </TR>
         </TABLE>

                  
         <BR>
       </TD>
     </TR>
               
       
     </TABLE>
                 

    </TD>
    
  </TR>

  <TR>
    <TD colspan=3 class=borders style="border-right: 1px solid #000000" height=30>&nbsp;
    </TD>
  </TR>  
    
</TABLE>
