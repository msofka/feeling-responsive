<!doctype html> <html class="no-js" lang="en"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>Likelihood Ratio Vesselness (LRR)</title> <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> <link rel="stylesheet" href="/assets/css/styles_feeling_responsive.css"> <link rel="stylesheet" href="/assets/css/tweetstyle.css"> <link rel="stylesheet" href="/assets/css/bibliographystyle.css"> <script src="/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <noscript> <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic|Volkhov' rel='stylesheet' type='text/css'> </noscript> <meta name="description" content=""/> <link rel="icon" sizes="32x32" href="/assets/img/favicon-32x32.png"> <link rel="icon" sizes="192x192" href="/assets/img/favicon-32x32.png"> <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/assets/img/favicon-32x32.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/img/favicon-32x32.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/img/favicon-32x32.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/assets/img/favicon-32x32.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/img/favicon-32x32.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/assets/img/favicon-32x32.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/img/favicon-32x32.png"> <link rel="apple-touch-icon-precomposed" href="/assets/img/favicon-32x32.png"> <meta name="msapplication-TileImage" content="/assets/img/favicon-32x32.png"/> <meta name="msapplication-TileColor" content="#fabb00"> <!-- Facebook Optimization --> <meta property="og:locale" content="en_EN" /> <meta property="og:type" content="website" /> <meta property="og:title" content="Likelihood Ratio Vesselness (LRR)" /> <meta property="og:description" content="Homepage of Michal Sofka, scientist and technical leader with passion for innovation to transform ideas into product solutions."/> <meta property="og:url" content="http://localhost:4000///projects/vessels_classify/" /> <!-- Search Engine Optimization --> <link type="text/plain" rel="author" href="/humans.txt" /> </head> <body id="top-of-page" class=""> <div id="navigation" class="sticky"> <nav class="top-bar" data-topbar> <ul class="title-area"> <li class="name"> <h1 class="show-for-small-only"><a href="/" class="icon-home"> </a></h1> </li> <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone --> <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li> </ul> <section class="top-bar-section"> <ul class="right"> <li class="divider"></li> <li><a href="/blog/">Blog</a></li> <li class="divider"></li> <li><a href="/contact/">Contact</a></li> </ul> <ul class="left"> <li><a href="/">Home</a></li> <li class="divider"></li> <li class="has-dropdown "> <a href="/about/">About</a> <ul class="dropdown"> <li><a href="/about/">Bio</a></li> <li><a href="/affiliation/">Affiliation</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown "> <a href="/projects/">Projects</a> <ul class="dropdown"> <li><a href="/projects/#imga">Image Analysis</a></li> <li><a href="/projects/#nwsecu">Network Security</a></li> <li><a href="/projects/news/">News</a></li> <li><a href="/activities/">Activities</a></li> <li><a href="/downloads/">Downloads</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown "> <a href="/publications/">Publications</a> <ul class="dropdown"> <li><a href="/publications/#papers">Papers</a></li> <li><a href="/publications/#patents">Patents</a></li> </ul> </li> <li class="divider"></li> <li><a href="/inmedia/">In Media</a></li> <li class="divider"></li> </ul> </section> </nav> </div><!-- /#navigation --> <div class="row t30"> <div class="medium-10 columns medium-offset-1 end"> <article itemscope itemtype="http://schema.org/Article"> <header> <figure> <img src="/images//LRV_banner.jpg" width="970" alt="Likelihood Ratio Vesselness (LRR)" itemprop="image"> </figure> <span itemprop="name"> <p class="subheadline"></p> <h1></h1> </span> </header> <p class="teaser" itemprop="description"> </p> <span itemprop="articleSection"> <h5 class="navigatorButtons"><a href="/projects/">Projects</a> / <a href="/downloads/">Downloads</a> / LRV classification executable </h5> <TABLE class="container-fluid" style="border:0;background-color:transparent;"> <TR> <TD style="padding: 10 10 10 10; vertical-align: top"> <p class=cap>Vessel Detection Executable</p> <p class=text><b>Download Command-Line Executable</b> <p class=text>This executable will process the image pixel-by-pixel to apply the <a href="vessels.html">Likelihood Ratio Vesselness (LRV)</a> image wide. It is therefore slower than the <a href="vessels_exec.html">vessel tracing executable</a>. <br> <br> <table> <tr> <th class=text style="BACKGROUND-COLOR: rgb(166,166,166); text-align: center;">Platform</th> <th class=text style="BACKGROUND-COLOR: rgb(166,166,166); text-align: center;" colspan=3>Training Data Used</th> </tr> <tr class=text> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5;">Windows (08/13/2007)</td> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?cl_windows_STARE_DRIVE">STARE and DRIVE*</a></td> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?cl_windows_STARE">STARE</a></td> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?cl_windows_DRIVE">DRIVE</a></td> </tr> <tr class=text> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5;">FreeBSD (08/13/2007 static build on FreeBSD 5.4)</td> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?cl_freebsd_STARE_DRIVE">STARE and DRIVE*</a></td> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?cl_freebsd_STARE">STARE</a></td> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?cl_freebsd_DRIVE">DRIVE</a></td> </tr> <tr class=text> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5;">Linux (08/13/2007 static build on kernel 2.6)</td> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?cl_linux_STARE_DRIVE">STARE and DRIVE*</a></td> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?cl_linux_STARE">STARE</a></td> <td style="BACKGROUND-COLOR: rgb(206,206,206); padding: 5 5 5 5; text-align: center;"><a href="http://www.cs.rpi.edu/~sofka/cgi-bin/download.cgi?cl_linux_DRIVE">DRIVE</a></td> </tr> <tr class=text> <td colspan=4> * Training using STARE data set and DRIVE data set (with manual segmentations by observer 1). <font color=red>Use this version for best results.</font> </td> </table> <p class=text><b>Run</b></p> <p class=text>The executable has only one argument, which is the image file to process. <p class=text>This executable can be used for non-commercial purposes only. <p class=text><b>Results</b></p> <p class=text>Four files are written for each run: 1) Likelihood Ratio Vesselness at each pixel of the input image (header+content), 2) Vessel matched filter computed at each pixel of the input image (header+content). Each of these outputs is in the <a href="http://www.itk.org">Insight Toolkit</a> RAW format, because they are floating point outputs. Extension .mhd specifies the file header and extension .raw is the image content. <b>Do not linearly scale the output of the LRV filter</b> before use (i.e. by stretching to <0, 255> interval of integer intensities) because it is a likelihood ratio and you will loose important responses (many would get rounded to zero). <br> <br> If you work in MATLAB, you can use the following function to read the raw images: <a href="download/readRaw.m">readRaw.m</a> <br> Example Usage: <p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt;"> readRaw( 'C:\path_to_image\imagefile.raw', [ImageWidth ImageHeight], 'float', 'native', 0 ); <br> <p class=text> Note: You need to specify the image size ([ImageWidth ImageHeight]) manually. This can be determined from the header file (.mhd file). <br> <p class=text><b><A NAME="bibliography">Publications and Further Reading</A></b></p> <p class=text> When you publish results using the executable, please acknowledge the authors by citing the following paper:</p> <ol class="bibliography"><li> <div class="cf"> <img src="/assets/img/sofka-tmi06-1.jpg" class="thumb"/> <img src="/assets/img/sofka-tmi06-2.jpg" class="thumb"/> <span id="sofka:tmi06">Sofka, M., &amp; V. Stewart, C. (2006). Retinal Vessel Extraction Using Multiscale Matched Filters, Confidence and Edge Measures. <i>IEEE Transactions on Medical Imaging</i>, <i>25</i>(12), 1531–1546. Retrieved from http://www.sofka.com/vessels.html</span> </div> <div id="sofka:tmi06-materials"> <button class="button0" onclick="$('#sofka-tmi06-abstract').toggle();">abstract</button> <a href="/pdfs/sofka-tmi06.pdf"><input class="button4" type="button" value="pdf" /></a> <button class="button1" onclick="$('#sofka-tmi06-bibtex').toggle();">bibtex</button> <a href="http://www.sofka.com/vessels.html"><input class="button3" type="button" value="website" /></a> </div> <div class="dispinline"> <p class="likepre" id="sofka-tmi06-abstract" style="display: none;">Motivated by the goals of improving detection of low-contrast and narrow vessels and eliminating false detections at non-vascular structures, a new technique is presented for extracting vessels in retinal images. The core of the technique is a new likelihood ratio test that combines matched-filter responses, confidence measures and vessel boundary measures. Matched filter responses are derived in scale-space to extract vessels of widely varying widths. A vessel confidence measure is defined as a projection of a vector formed from a normalized pixel neighborhood onto a normalized ideal vessel profile. Vessel boundary measures and associated confidences are computed at potential vessel boundaries. Combined, these responses form a 6-dimensional measurement vector at each pixel. A training technique is used to develop a mapping of this vector to a likelihood ratio that measures the “vesselness” at each pixel. Results comparing this vesselness measure to matched filters alone and to measures based on the Hessian of intensities show substantial improvements both qualitatively and quantitatively. The Hessian can be used in place of the matched filter to obtain similar but less-substantial improvements or to steer the matched filter by preselecting kernel orientations. Finally, the new vesselness likelihood ratio is embedded into a vessel tracing framework, resulting in an efficient and effective vessel centerline extraction algorithm.</p> <p><pre id="sofka-tmi06-bibtex" style="display: none;"><small>@article{sofka:tmi06,
  author = {Sofka, Michal and V.\ Stewart, Charles},
  title = {Retinal Vessel Extraction Using Multiscale Matched
                    Filters, Confidence and Edge Measures},
  journal = {IEEE Transactions on Medical Imaging},
  year = {2006},
  volume = {25},
  number = {12},
  pages = {1531--1546},
  month = dec,
  url = {http://www.sofka.com/vessels.html}
}
</small></pre></p> <br> </div> </li></ol> <BR> </TD> </TR> </TABLE> </TD> </TR> <TR> <TD colspan=3 class=borders style="border-right: 1px solid #000000" height=30>&nbsp; </TD> </TR> </TABLE> </span> </article> </div><!-- /.medium-8.columns --> </div><!-- /.row --> <div id="up-to-top" class="row"> <div class="small-12 columns" style="text-align: right;"> <a class="iconfont" href="#top-of-page">&#xf108;</a> </div><!-- /.small-12.columns --> </div><!-- /.row --> <footer id="footer-content" class="bg-grau"> <div id="subfooter"> <nav class="row"> <div id="subfooter-left" class="b15 small-12 medium-5 columns"> <h5>About this site</h5> <p> Homepage of Michal Sofka, scientist and technical leader with passion for innovation to transform ideas into product solutions. </p> </div> <div id="subfooter-right" class="t30 small-12 medium-6 medium-offset-1 columns social-icons"> <ul class="inline-list"> <li><a href="mailto:michal.sofka@gmail.com" target="_blank" class="icon-mail" title="Email"></a></li> <li><a href="https://twitter.com/MichalSofka" target="_blank" class="icon-twitter" title="Twitter"></a></li> <li><a href="https://www.linkedin.com/in/sofka/" target="_blank" class="icon-linkedin" title="LinkedIn"></a></li> <li><a href="https://scholar.google.com/citations?user=fyN2FbgAAAAJ" target="_blank" class="ai-google-scholar" title="Google Scholar"></a></li> <li><a href="http://dblp.uni-trier.de/pers/hd/s/Sofka:Michal" target="_blank" class="icon-archive" title="dblp"></a></li> </ul> </div> </nav> </div><!-- /#subfooter --> <div id="footer"> <div class="row"> <div class="medium-6 large-5 columns"> <h5 class="shadow-black">Copyright</h5> <ul class="inline-list"> <li>&copy; 2017 by <a style="display:inline;" href="http://www.sofka.com/">Michal Sofka</a>. The content is licensed under a <a style="display:inline;" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>. </li> </ul> </div><!-- /.large-5.columns --> <div class="small-6 medium-3 large-3 large-offset-1 columns"> <h5 class="shadow-black">Services</h5> <ul class="no-bullet shadow-black"> <li > <a href="" title=""></a> </li> <li > <a href="/contact/" title="Contact">Contact</a> </li> <li > <a href="/feed.xml" title="Subscribe to RSS Feed">RSS</a> </li> <li > <a href="/atom.xml" title="Subscribe to Atom Feed">Atom</a> </li> <li > <a href="/sitemap.xml" title="Sitemap for Google Webmaster Tools">sitemap.xml</a> </li> </ul> </div><!-- /.large-3.columns --> <div class="small-6 medium-3 large-3 columns"> <h5 class="shadow-black">Credits</h5> <ul class="no-bullet shadow-black"> <li > <a href="http://localhost:4000" title=""></a> </li> <li class="network-responsive" > <a href="https://phlow.github.io/feeling-responsive/" target="_blank" title="Built on Feeling Responsive">Built on Feeling Responsive</a> </li> <li class="network-entypo" > <a href="http://entypo.com/" target="_blank" title="Social Media Icons by Daniel Bruce">Social Media Icons by Daniel Bruce</a> </li> <li class="network-academicons" > <a href="http://jpswalsh.github.io/academicons/" target="_blank" title="Academicons by James Walsh">Academicons by James Walsh</a> </li> </ul> </div><!-- /.large-3.columns --> </div><!-- /.row --> </div><!-- /#footer --> </footer> <script src="/assets/js/javascript.min.js"></script> <script data-cfasync='false' src='/assets/js/twitterFetcher_min.js'></script> <script data-cfasync='false' src='/assets/js/recentTweets.js'></script> <script src="/assets/js/tabular.js" defer></script> <!-- jQuery --> <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> <!-- Bootstrap Core JavaScript --> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-3321010-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script> </body> </html>
